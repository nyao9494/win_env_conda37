{"version":3,"file":"FileList.js","sourceRoot":"./@jupyterlab/git/src/","sources":["components/FileList.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Dialog, showDialog, showErrorMessage } from '@jupyterlab/apputils';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { CommandRegistry } from '@lumino/commands';\nimport { Menu } from '@lumino/widgets';\nimport * as React from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { ListChildComponentProps } from 'react-window';\nimport { CommandIDs } from '../commandsAndMenu';\nimport { GitExtension } from '../model';\nimport { hiddenButtonStyle } from '../style/ActionButtonStyle';\nimport { fileListWrapperClass } from '../style/FileListStyle';\nimport {\n  addIcon,\n  diffIcon,\n  discardIcon,\n  openIcon,\n  removeIcon\n} from '../style/icons';\nimport { Git } from '../tokens';\nimport { ActionButton } from './ActionButton';\nimport { isDiffSupported } from './diff/Diff';\nimport { FileItem } from './FileItem';\nimport { GitStage } from './GitStage';\n\nexport interface IFileListState {\n  selectedFile: Git.IStatusFile | null;\n}\n\nexport interface IFileListProps {\n  /**\n   * Modified files\n   */\n  files: Git.IStatusFile[];\n  /**\n   * Git extension model\n   */\n  model: GitExtension;\n  /**\n   * Jupyter App commands registry\n   */\n  commands: CommandRegistry;\n  /**\n   * Extension settings\n   */\n  settings: ISettingRegistry.ISettings;\n}\n\nexport class FileList extends React.Component<IFileListProps, IFileListState> {\n  constructor(props: IFileListProps) {\n    super(props);\n\n    this.state = {\n      selectedFile: null\n    };\n  }\n\n  /**\n   * Open the context menu on the advanced view\n   *\n   * @param selectedFile The file on which the context menu is opened\n   * @param event The click event\n   */\n  openContextMenu = (\n    selectedFile: Git.IStatusFile,\n    event: React.MouseEvent\n  ) => {\n    event.preventDefault();\n\n    this.setState({\n      selectedFile\n    });\n\n    const contextMenu = new Menu({ commands: this.props.commands });\n    const commands = [CommandIDs.gitFileOpen];\n    switch (selectedFile.status) {\n      case 'unstaged':\n        commands.push(\n          CommandIDs.gitFileStage,\n          CommandIDs.gitFileDiscard,\n          CommandIDs.gitFileDiff\n        );\n        break;\n      case 'untracked':\n        commands.push(\n          CommandIDs.gitFileTrack,\n          CommandIDs.gitIgnore,\n          CommandIDs.gitIgnoreExtension\n        );\n        break;\n      case 'staged':\n        commands.push(CommandIDs.gitFileUnstage, CommandIDs.gitFileDiff);\n        break;\n    }\n\n    commands.forEach(command => {\n      if (command === CommandIDs.gitFileDiff) {\n        contextMenu.addItem({\n          command,\n          args: {\n            filePath: selectedFile.to,\n            isText: !selectedFile.is_binary,\n            status: selectedFile.status\n          }\n        });\n      } else {\n        contextMenu.addItem({ command, args: selectedFile as any });\n      }\n    });\n    contextMenu.open(event.clientX, event.clientY);\n  };\n\n  /**\n   * Open the context menu on the simple view\n   *\n   * @param selectedFile The file on which the context menu is opened\n   * @param event The click event\n   */\n  openSimpleContextMenu = (\n    selectedFile: Git.IStatusFile,\n    event: React.MouseEvent\n  ) => {\n    event.preventDefault();\n\n    const contextMenu = new Menu({ commands: this.props.commands });\n    const commands = [CommandIDs.gitFileOpen];\n    switch (selectedFile.status) {\n      case 'untracked':\n        commands.push(CommandIDs.gitIgnore, CommandIDs.gitIgnoreExtension);\n        break;\n      default:\n        commands.push(CommandIDs.gitFileDiscard, CommandIDs.gitFileDiff);\n        break;\n    }\n\n    commands.forEach(command => {\n      if (command === CommandIDs.gitFileDiff) {\n        contextMenu.addItem({\n          command,\n          args: {\n            filePath: selectedFile.to,\n            isText: !selectedFile.is_binary,\n            status: selectedFile.status\n          }\n        });\n      } else {\n        contextMenu.addItem({ command, args: selectedFile as any });\n      }\n    });\n    contextMenu.open(event.clientX, event.clientY);\n  };\n\n  /** Reset all staged files */\n  resetAllStagedFiles = async () => {\n    await this.props.model.reset();\n  };\n\n  /** Reset a specific staged file */\n  resetStagedFile = async (file: string) => {\n    await this.props.model.reset(file);\n  };\n\n  /** Add all unstaged files */\n  addAllUnstagedFiles = async () => {\n    await this.props.model.addAllUnstaged();\n  };\n\n  /** Discard changes in all unstaged files */\n  discardAllUnstagedFiles = async () => {\n    const result = await showDialog({\n      title: 'Discard all changes',\n      body:\n        'Are you sure you want to permanently discard changes to all files? This action cannot be undone.',\n      buttons: [Dialog.cancelButton(), Dialog.warnButton({ label: 'Discard' })]\n    });\n    if (result.button.accept) {\n      try {\n        await this.props.model.checkout();\n      } catch (reason) {\n        showErrorMessage('Discard all unstaged changes failed.', reason);\n      }\n    }\n  };\n\n  /** Discard changes in all unstaged and staged files */\n  discardAllChanges = async () => {\n    const result = await showDialog({\n      title: 'Discard all changes',\n      body:\n        'Are you sure you want to permanently discard changes to all files? This action cannot be undone.',\n      buttons: [Dialog.cancelButton(), Dialog.warnButton({ label: 'Discard' })]\n    });\n    if (result.button.accept) {\n      try {\n        await this.props.model.resetToCommit();\n      } catch (reason) {\n        showErrorMessage('Discard all changes failed.', reason);\n      }\n    }\n  };\n\n  /** Add a specific unstaged file */\n  addFile = async (...file: string[]) => {\n    await this.props.model.add(...file);\n  };\n\n  /** Discard changes in a specific unstaged or staged file */\n  discardChanges = async (file: Git.IStatusFile) => {\n    await this.props.commands.execute(CommandIDs.gitFileDiscard, file as any);\n  };\n\n  /** Add all untracked files */\n  addAllUntrackedFiles = async () => {\n    await this.props.model.addAllUntracked();\n  };\n\n  addAllMarkedFiles = async () => {\n    await this.addFile(...this.markedFiles.map(file => file.to));\n  };\n\n  updateSelectedFile = (file: Git.IStatusFile | null) => {\n    this.setState({ selectedFile: file });\n  };\n\n  get markedFiles() {\n    return this.props.files.filter(file => this.props.model.getMark(file.to));\n  }\n\n  /**\n   * Render the modified files\n   */\n  render() {\n    if (this.props.settings.composite['simpleStaging']) {\n      return (\n        <div className={fileListWrapperClass}>\n          <AutoSizer disableWidth={true}>\n            {({ height }) => this._renderSimpleStage(this.props.files, height)}\n          </AutoSizer>\n        </div>\n      );\n    } else {\n      const stagedFiles: Git.IStatusFile[] = [];\n      const unstagedFiles: Git.IStatusFile[] = [];\n      const untrackedFiles: Git.IStatusFile[] = [];\n\n      this.props.files.forEach(file => {\n        switch (file.status) {\n          case 'staged':\n            stagedFiles.push(file);\n            break;\n          case 'unstaged':\n            unstagedFiles.push(file);\n            break;\n          case 'untracked':\n            untrackedFiles.push(file);\n            break;\n          case 'partially-staged':\n            stagedFiles.push({\n              ...file,\n              status: 'staged'\n            });\n            unstagedFiles.push({\n              ...file,\n              status: 'unstaged'\n            });\n            break;\n\n          default:\n            break;\n        }\n      });\n\n      return (\n        <div\n          className={fileListWrapperClass}\n          onContextMenu={event => event.preventDefault()}\n        >\n          <AutoSizer disableWidth={true}>\n            {({ height }) => (\n              <>\n                {this._renderStaged(stagedFiles, height)}\n                {this._renderChanged(unstagedFiles, height)}\n                {this._renderUntracked(untrackedFiles, height)}\n              </>\n            )}\n          </AutoSizer>\n        </div>\n      );\n    }\n  }\n\n  /**\n   * Test if a file is selected\n   * @param candidate file to test\n   */\n  private _isSelectedFile(candidate: Git.IStatusFile): boolean {\n    if (this.state.selectedFile === null) {\n      return false;\n    }\n\n    return (\n      this.state.selectedFile.x === candidate.x &&\n      this.state.selectedFile.y === candidate.y &&\n      this.state.selectedFile.from === candidate.from &&\n      this.state.selectedFile.to === candidate.to &&\n      this.state.selectedFile.status === candidate.status\n    );\n  }\n\n  /**\n   * Render a staged file\n   *\n   * Note: This is actually a React.FunctionComponent but defined as\n   * a private method as it needs access to FileList properties.\n   *\n   * @param rowProps Row properties\n   */\n  private _renderStagedRow = (\n    rowProps: ListChildComponentProps\n  ): JSX.Element => {\n    const doubleClickDiff = this.props.settings.get('doubleClickDiff')\n      .composite as boolean;\n    const { data, index, style } = rowProps;\n    const file = data[index] as Git.IStatusFile;\n    const openFile = () => {\n      this.props.commands.execute(CommandIDs.gitFileOpen, file as any);\n    };\n    const diffButton = this._createDiffButton(file);\n    return (\n      <FileItem\n        actions={\n          <React.Fragment>\n            <ActionButton\n              className={hiddenButtonStyle}\n              icon={openIcon}\n              title={'Open this file'}\n              onClick={openFile}\n            />\n            {diffButton}\n            <ActionButton\n              className={hiddenButtonStyle}\n              icon={removeIcon}\n              title={'Unstage this change'}\n              onClick={() => {\n                this.resetStagedFile(file.to);\n              }}\n            />\n          </React.Fragment>\n        }\n        file={file}\n        contextMenu={this.openContextMenu}\n        model={this.props.model}\n        selected={this._isSelectedFile(file)}\n        selectFile={this.updateSelectedFile}\n        onDoubleClick={\n          doubleClickDiff\n            ? diffButton\n              ? () => this._openDiffView(file)\n              : () => undefined\n            : openFile\n        }\n        style={style}\n      />\n    );\n  };\n\n  /**\n   * Render the staged files list.\n   *\n   * @param files The staged files\n   * @param height The height of the HTML element\n   */\n  private _renderStaged(files: Git.IStatusFile[], height: number) {\n    return (\n      <GitStage\n        actions={\n          <ActionButton\n            className={hiddenButtonStyle}\n            disabled={files.length === 0}\n            icon={removeIcon}\n            title={'Unstage all changes'}\n            onClick={this.resetAllStagedFiles}\n          />\n        }\n        collapsible\n        files={files}\n        heading={'Staged'}\n        height={height}\n        rowRenderer={this._renderStagedRow}\n      />\n    );\n  }\n\n  /**\n   * Render a changed file\n   *\n   * Note: This is actually a React.FunctionComponent but defined as\n   * a private method as it needs access to FileList properties.\n   *\n   * @param rowProps Row properties\n   */\n  private _renderChangedRow = (\n    rowProps: ListChildComponentProps\n  ): JSX.Element => {\n    const doubleClickDiff = this.props.settings.get('doubleClickDiff')\n      .composite as boolean;\n    const { data, index, style } = rowProps;\n    const file = data[index] as Git.IStatusFile;\n    const openFile = () => {\n      this.props.commands.execute(CommandIDs.gitFileOpen, file as any);\n    };\n    const diffButton = this._createDiffButton(file);\n    return (\n      <FileItem\n        actions={\n          <React.Fragment>\n            <ActionButton\n              className={hiddenButtonStyle}\n              icon={openIcon}\n              title={'Open this file'}\n              onClick={openFile}\n            />\n            {diffButton}\n            <ActionButton\n              className={hiddenButtonStyle}\n              icon={discardIcon}\n              title={'Discard changes'}\n              onClick={() => {\n                this.discardChanges(file);\n              }}\n            />\n            <ActionButton\n              className={hiddenButtonStyle}\n              icon={addIcon}\n              title={'Stage this change'}\n              onClick={() => {\n                this.addFile(file.to);\n              }}\n            />\n          </React.Fragment>\n        }\n        file={file}\n        contextMenu={this.openContextMenu}\n        model={this.props.model}\n        selected={this._isSelectedFile(file)}\n        selectFile={this.updateSelectedFile}\n        onDoubleClick={\n          doubleClickDiff\n            ? diffButton\n              ? () => this._openDiffView(file)\n              : () => undefined\n            : openFile\n        }\n        style={style}\n      />\n    );\n  };\n\n  /**\n   * Render the changed files list\n   *\n   * @param files Changed files\n   * @param height Height of the HTML element\n   */\n  private _renderChanged(files: Git.IStatusFile[], height: number) {\n    const disabled = files.length === 0;\n    return (\n      <GitStage\n        actions={\n          <React.Fragment>\n            <ActionButton\n              className={hiddenButtonStyle}\n              disabled={disabled}\n              icon={discardIcon}\n              title={'Discard All Changes'}\n              onClick={this.discardAllUnstagedFiles}\n            />\n            <ActionButton\n              className={hiddenButtonStyle}\n              disabled={disabled}\n              icon={addIcon}\n              title={'Stage all changes'}\n              onClick={this.addAllUnstagedFiles}\n            />\n          </React.Fragment>\n        }\n        collapsible\n        heading={'Changed'}\n        height={height}\n        files={files}\n        rowRenderer={this._renderChangedRow}\n      />\n    );\n  }\n\n  /**\n   * Render a untracked file.\n   *\n   * Note: This is actually a React.FunctionComponent but defined as\n   * a private method as it needs access to FileList properties.\n   *\n   * @param rowProps Row properties\n   */\n  private _renderUntrackedRow = (\n    rowProps: ListChildComponentProps\n  ): JSX.Element => {\n    const doubleClickDiff = this.props.settings.get('doubleClickDiff')\n      .composite as boolean;\n    const { data, index, style } = rowProps;\n    const file = data[index] as Git.IStatusFile;\n    return (\n      <FileItem\n        actions={\n          <React.Fragment>\n            <ActionButton\n              className={hiddenButtonStyle}\n              icon={openIcon}\n              title={'Open this file'}\n              onClick={() => {\n                this.props.commands.execute(\n                  CommandIDs.gitFileOpen,\n                  file as any\n                );\n              }}\n            />\n            <ActionButton\n              className={hiddenButtonStyle}\n              icon={addIcon}\n              title={'Track this file'}\n              onClick={() => {\n                this.addFile(file.to);\n              }}\n            />\n          </React.Fragment>\n        }\n        file={file}\n        contextMenu={this.openContextMenu}\n        model={this.props.model}\n        onDoubleClick={() => {\n          if (!doubleClickDiff) {\n            this.props.commands.execute(CommandIDs.gitFileOpen, file as any);\n          }\n        }}\n        selected={this._isSelectedFile(file)}\n        selectFile={this.updateSelectedFile}\n        style={style}\n      />\n    );\n  };\n\n  /**\n   * Render the untracked files list.\n   *\n   * @param files Untracked files\n   * @param height Height of the HTML element\n   */\n  private _renderUntracked(files: Git.IStatusFile[], height: number) {\n    return (\n      <GitStage\n        actions={\n          <ActionButton\n            className={hiddenButtonStyle}\n            disabled={files.length === 0}\n            icon={addIcon}\n            title={'Track all untracked files'}\n            onClick={this.addAllUntrackedFiles}\n          />\n        }\n        collapsible\n        heading={'Untracked'}\n        height={height}\n        files={files}\n        rowRenderer={this._renderUntrackedRow}\n      />\n    );\n  }\n\n  /**\n   * Render a modified file in simple mode.\n   *\n   * Note: This is actually a React.FunctionComponent but defined as\n   * a private method as it needs access to FileList properties.\n   *\n   * @param rowProps Row properties\n   */\n  private _renderSimpleStageRow = (rowProps: ListChildComponentProps) => {\n    const { data, index, style } = rowProps;\n    const file = data[index] as Git.IStatusFile;\n    const doubleClickDiff = this.props.settings.get('doubleClickDiff')\n      .composite as boolean;\n\n    const openFile = () => {\n      this.props.commands.execute(CommandIDs.gitFileOpen, file as any);\n    };\n\n    // Default value for actions and double click\n    let actions: JSX.Element = (\n      <ActionButton\n        className={hiddenButtonStyle}\n        icon={openIcon}\n        title={'Open this file'}\n        onClick={openFile}\n      />\n    );\n    let onDoubleClick = doubleClickDiff ? (): void => undefined : openFile;\n\n    if (file.status === 'unstaged' || file.status === 'partially-staged') {\n      const diffButton = this._createDiffButton(file);\n      actions = (\n        <React.Fragment>\n          <ActionButton\n            className={hiddenButtonStyle}\n            icon={openIcon}\n            title={'Open this file'}\n            onClick={openFile}\n          />\n          {diffButton}\n          <ActionButton\n            className={hiddenButtonStyle}\n            icon={discardIcon}\n            title={'Discard changes'}\n            onClick={() => {\n              this.discardChanges(file);\n            }}\n          />\n        </React.Fragment>\n      );\n      onDoubleClick = doubleClickDiff\n        ? diffButton\n          ? () => this._openDiffView(file)\n          : () => undefined\n        : openFile;\n    } else if (file.status === 'staged') {\n      const diffButton = this._createDiffButton(file);\n      actions = (\n        <React.Fragment>\n          <ActionButton\n            className={hiddenButtonStyle}\n            icon={openIcon}\n            title={'Open this file'}\n            onClick={openFile}\n          />\n          {diffButton}\n          <ActionButton\n            className={hiddenButtonStyle}\n            icon={discardIcon}\n            title={'Discard changes'}\n            onClick={() => {\n              this.discardChanges(file);\n            }}\n          />\n        </React.Fragment>\n      );\n      onDoubleClick = doubleClickDiff\n        ? diffButton\n          ? () => this._openDiffView(file)\n          : () => undefined\n        : openFile;\n    }\n\n    return (\n      <FileItem\n        actions={actions}\n        file={file}\n        markBox={true}\n        model={this.props.model}\n        onDoubleClick={onDoubleClick}\n        contextMenu={this.openSimpleContextMenu}\n        selectFile={this.updateSelectedFile}\n        style={style}\n      />\n    );\n  };\n\n  /**\n   * Render the modified files in simple mode.\n   *\n   * @param files Modified files\n   * @param height Height of the HTML element\n   */\n  private _renderSimpleStage(files: Git.IStatusFile[], height: number) {\n    return (\n      <GitStage\n        actions={\n          <ActionButton\n            className={hiddenButtonStyle}\n            disabled={files.length === 0}\n            icon={discardIcon}\n            title={'Discard All Changes'}\n            onClick={this.discardAllChanges}\n          />\n        }\n        heading={'Changed'}\n        height={height}\n        files={files}\n        rowRenderer={this._renderSimpleStageRow}\n      />\n    );\n  }\n\n  /**\n   * Creates a button element which, depending on the settings, is used\n   * to either request a diff of the file, or open the file\n   *\n   * @param path File path of interest\n   * @param currentRef the ref to diff against the git 'HEAD' ref\n   */\n  private _createDiffButton(file: Git.IStatusFile): JSX.Element {\n    return (\n      (isDiffSupported(file.to) || !file.is_binary) && (\n        <ActionButton\n          className={hiddenButtonStyle}\n          icon={diffIcon}\n          title={'Diff this file'}\n          onClick={() => this._openDiffView(file)}\n        />\n      )\n    );\n  }\n\n  /**\n   * Returns a callback which opens a diff of the file\n   *\n   * @param file File to open diff for\n   * @param currentRef the ref to diff against the git 'HEAD' ref\n   */\n  private async _openDiffView(file: Git.IStatusFile): Promise<void> {\n    try {\n      await this.props.commands.execute(CommandIDs.gitFileDiff, {\n        filePath: file.to,\n        isText: !file.is_binary,\n        status: file.status\n      });\n    } catch (reason) {\n      console.error(`Failed to open diff view for ${file.to}.\\n${reason}`);\n    }\n  }\n}\n"]}